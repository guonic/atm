# RSI 双线多信号策略指南

## 概述

本策略基于 RSI 双线（快/慢）组合，结合超买超卖区间与金叉/死叉判定，捕捉反转与趋势延续信号，适合偏短中线的低风险风格。核心是把 RSI 的“区间 + 交叉”两类信号组合：低位反转买入，高位转弱卖出，并辅以止盈止损保护。

**核心思路**：
- 买：超卖反弹 + 低位金叉
- 卖：超买回落 + 高位死叉
- 风控：入场价的止盈止损

## 指标与参数

- RSI1（快线）：`rsi_fast`，默认 6
- RSI2（慢线）：`rsi_slow`，默认 14
- 超卖阈值：`oversold`，默认 20
- 超买阈值：`overbought`，默认 80
- 止损：`stop_loss_pct`，默认 5%
- 止盈：`take_profit_pct`，默认 10%

## 交易规则

### 买入信号
1) **超卖反弹**：RSI1 前一根 < 超卖阈值，当前根重新站回超卖线上方（形同“跌破20又回20”）。
2) **低位金叉**：RSI1 向上穿越 RSI2，且两条 RSI 都在 50 下方（低位金叉，视为反弹或反转启动）。
满足任一买入条件且当前无持仓，则开多。

### 卖出信号
1) **超买回落**：RSI1 前一根 > 超买阈值，当前根跌回超买线下方（形同“冲80回落”）。
2) **高位死叉**：RSI1 向下跌破 RSI2，且两条 RSI 都在 50 上方（高位死叉，视为见顶转弱）。
3) **风控触发**：价格相对入场价，跌幅达到止损或涨幅达到止盈。
满足任一卖出条件则平仓。

## 风险控制
- **止损**：入场价下浮 `stop_loss_pct`（默认 5%）即止损。
- **止盈**：入场价上浮 `take_profit_pct`（默认 10%）即止盈。
- 仅做多（符合 A 股风格），不做空。

## 参数调整建议
- 短线提速：`rsi_fast` 设为 6，`rsi_slow` 设为 12~14，`overbought` 可下调至 75，`oversold` 可上调至 25。
- 中线平滑：`rsi_fast` 8~10，`rsi_slow` 14~21，`overbought` 80，`oversold` 20。
- 高波动品种：适当放宽止损/止盈（如 7%/12%），并提高超买阈值至 85 过滤假冲高。

## 回测与运行

### 回测命令示例
```bash
python python/tools/analysis/evaluate_rsi_multi_signal_strategy.py \
  --start-date 2024-01-01 \
  --end-date 2025-12-01 \
  --num-stocks 200 \
  --skip-market-cap-filter \
  --rsi-fast 6 \
  --rsi-slow 14 \
  --oversold 20 \
  --overbought 80 \
  --stop-loss-pct 0.05 \
  --take-profit-pct 0.1 \
  --output outputs/rsi_multi_signal_results.csv
```

### 输出说明
- 结果 CSV：默认 `rsi_multi_signal_results.csv`，可用 `--output` 修改。
- 排序字段：默认 `total_return`，可用 `--sort-by` 调整，`--ascending` 控制排序方向。
- 支持 `kline_type`、初始资金、滑点、佣金等通用参数（见 `python/atm/analysis/backtest/common_args.py`）。

## 实战要点
- 信号组合用“或”逻辑：满足任一买入（或卖出）条件即行动，避免错过。
- 超买超卖要结合位置：低位金叉在 50 下方更可靠，高位死叉在 50 上方更可信。
- 强趋势里 RSI 可能长时间钝化，可适当抬高超买阈值或加入趋势过滤（例如价格需在 MA 上方再买入）。
- 严格执行止损止盈，避免信号失效后的拖累。

## 风险提示
- RSI 在单边行情会钝化，务必结合趋势和风控；本策略已内置止损/止盈，但仍需注意过度震荡导致的频繁交易。
- 参数需结合品种波动特性和流动性调整，避免一刀切。
- 文档和策略仅供研究参考，不构成投资建议，风险自担。

