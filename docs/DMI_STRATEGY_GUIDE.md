# DMI 交易策略指南

## 概述

DMI (Directional Movement Index) 策略基于"老股民的稳定盈利系统"，使用3个清晰的信号来判断买卖时机。DMI 就像"趋势的交通灯"，通过观察3根线的位置就能知道是否可以买入。

## DMI 指标组成

DMI 由三个核心组件组成：

- **+DI (白线)**：上涨力量。当这条线向上移动时，表示买方力量增强。
- **-DI (黄线)**：下跌力量。当这条线向上移动时，表示卖方力量增强。
- **ADX (紫线)**：趋势强度。这条线越高，表示趋势越强。

## 交易信号

### 信号1："+DI 上穿 -DI" - 绿灯亮起，可以买入

**条件：**
- +DI (白线) 从下往上穿越 -DI (黄线)
- ADX (紫线) 同时向上移动，表示趋势正在加强
- ADX 必须 ≥ 20（确保是强趋势）

**操作：**
- 交叉日买入 30% 仓位
- 如果之后 ADX 超过 20，再加 30% 仓位

**逻辑：**
- 买方力量超过卖方力量，且趋势正在加强，股价必然上涨

**示例：**
- 某消费股 +DI 上穿 -DI，ADX 从 15 上升到 22，买入后涨幅 40%

### 信号2："ADX 超过 25" - 趋势疯狂，持有不卖

**条件：**
- ADX (紫线) 超过 25，表示趋势进入"加速阶段"

**操作：**
- 只要 ADX 不低于 25，就一直持有

**逻辑：**
- ADX 越高，趋势越强。此时卖出就是"错过主升浪"

**示例：**
- 某新能源股 ADX 涨到 30，持有 2 个月，涨幅 60%，比频繁买卖更赚钱

### 信号3："+DI 下穿 -DI" - 红灯亮起，快速卖出

**条件：**
- +DI (白线) 从上往下穿越 -DI (黄线)
- ADX (紫线) 同时向下移动，表示趋势正在减弱

**操作：**
- 交叉日全部卖出，不要犹豫

**逻辑：**
- 卖方力量超过买方力量，趋势正在减弱，股价必然下跌

**示例：**
- 某概念股 +DI 下穿 -DI，ADX 从 30 下降到 20，卖出后下跌 25%，避免了大坑

## 核心原则

### "不要预测，只看线" - 老股民的稳定盈利逻辑

能稳定盈利 20 年，不是因为"预测准确"，而是因为"只相信 DMI 线"：

1. **如果线说"买"，就买，不管市场多吓人**
2. **如果线说"卖"，就卖，不管别人说"还能涨"**
3. **永远不"贪心"，只赚"趋势内的钱"**

**成功案例：**
- 2022 年市场下跌时，只买入 "+DI 上穿 -DI" 的股票，一年下来不仅没亏，还赚了 15%——比天天盯盘的散户强 10 倍

## 使用注意事项

### 两个禁忌

1. **不要只看日线 DMI**
   - 日线 DMI 容易产生"假信号"
   - 必须结合周线 DMI——只有周线 DMI 也显示 "+DI 上穿 -DI" 才是真信号
   - （注意：当前实现为日线版本，周线版本需要额外的数据处理）

2. **不要买入 ADX 低于 20 的情况**
   - ADX 低于 20 表示"弱趋势"
   - 如果此时买入，会"来回震荡"，赚不到钱

## 策略参数

- `dmi_period` (默认: 14): DMI 计算周期
- `adx_threshold_buy` (默认: 20.0): 买入信号的最小 ADX 阈值
- `adx_threshold_hold` (默认: 25.0): 持有信号的 ADX 阈值
- `initial_position_pct` (默认: 0.3): 初始仓位百分比（30%）
- `add_position_pct` (默认: 0.3): 加仓百分比（30%）

## 快速开始

### 基本用法

```bash
python python/tools/analysis/evaluate_dmi_strategy.py \
    --start-date 2023-01-01 \
    --end-date 2024-01-01 \
    --num-stocks 100 \
    --skip-market-cap-filter
```

### 自定义参数

```bash
python python/tools/analysis/evaluate_dmi_strategy.py \
    --start-date 2023-01-01 \
    --end-date 2024-01-01 \
    --num-stocks 100 \
    --dmi-period 14 \
    --adx-threshold-buy 20 \
    --adx-threshold-hold 25 \
    --initial-position-pct 0.3 \
    --add-position-pct 0.3 \
    --output dmi_results.csv
```

## 策略特点

### 优势

1. **信号清晰**：3 个信号简单明了，易于理解和执行
2. **趋势跟随**：只做趋势内的交易，避免震荡市亏损
3. **风险控制**：ADX 阈值确保只在强趋势中交易
4. **分批建仓**：30% + 30% 的分批建仓降低风险

### 局限性

1. **滞后性**：DMI 是趋势指标，存在一定滞后
2. **假信号**：在震荡市中可能产生假信号
3. **需要结合周线**：理想情况下应结合周线 DMI 验证（当前版本为日线）

## 实战建议

1. **严格执行信号**：不要因为市场情绪而违背信号
2. **结合基本面**：不要盲目跟随信号，要结合基本面分析
3. **控制仓位**：即使信号出现，也要控制总仓位
4. **止损设置**：虽然策略有卖出信号，但建议设置止损保护

## 总结

DMI 策略是"散户的拐杖"，简单的方法比复杂的技巧靠谱 100 倍

